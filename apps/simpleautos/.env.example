# =================================================================
# App / Vertical Configuration
# =================================================================
NEXT_PUBLIC_VERTICAL=autos
NEXT_PUBLIC_SITE_URL=http://localhost:3001
NEXT_PUBLIC_APP_URL=http://localhost:3001
NEXT_PUBLIC_AUTOS_DOMAIN=http://localhost:3001
NEXT_PUBLIC_PROPIEDADES_DOMAIN=http://localhost:3002
NEXT_PUBLIC_CRM_DOMAIN=http://localhost:3000
# ProducciÃ³n (VPS/Coolify):
# NEXT_PUBLIC_SITE_URL=https://simpleautos.app
# NEXT_PUBLIC_APP_URL=https://simpleautos.app
# NEXT_PUBLIC_AUTOS_DOMAIN=https://simpleautos.app
# NEXT_PUBLIC_PROPIEDADES_DOMAIN=https://simplepropiedades.app

# =================================================================
# Supabase Configuration
# =================================================================
# URLs/keys for client (NEXT_PUBLIC_*) and server-side.
SUPABASE_URL=https://your-project.supabase.co
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co

SUPABASE_ANON_KEY=your-anon-key
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key

# Service role key for server-side operations (Server Actions, admin). DO NOT expose to client.
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key

# =================================================================
# Auth / Session Management
# =================================================================
SESSION_COOKIE_NAME=sa_session
SESSION_COOKIE_DOMAIN=localhost
SESSION_COOKIE_SAMESITE=lax
SESSION_COOKIE_SECURE=false
SESSION_TTL_DAYS=30

# =================================================================
# Email / Notifications
# =================================================================
# For sending emails (e.g., lead notifications) via SMTP
SMTP_HOST=
SMTP_PORT=587
SMTP_USER=
SMTP_PASS=
SMTP_FROM=
LEADS_NOTIFY_TO=

# For sending emails via Resend API (alternative to SMTP)
RESEND_API_KEY=

# =================================================================
# Payments / MercadoPago
# =================================================================
MERCADOPAGO_ACCESS_TOKEN=your-mercadopago-access-token
NEXT_PUBLIC_MERCADOPAGO_PUBLIC_KEY=your-mercadopago-public-key

# =================================================================
# Marketplace Sync Integrations
# =================================================================
CHILEAUTOS_API_KEY=
CHILEAUTOS_API_SECRET=
FACEBOOK_APP_ID=
FACEBOOK_APP_SECRET=
FACEBOOK_PAGE_ID=

# Instagram OAuth mode:
# - legacy   -> instagram_basic + instagram_content_publish + pages_* + business_management
# - business -> instagram_business_basic + instagram_business_content_publish + pages_* + business_management
INSTAGRAM_LOGIN_MODE=legacy

# Optional explicit override (comma or space separated).
# Example:
# INSTAGRAM_OAUTH_SCOPES=instagram_business_basic,instagram_business_content_publish,pages_show_list,pages_read_engagement,business_management
INSTAGRAM_OAUTH_SCOPES=

# Optional explicit callback (if different from runtime origin).
# INSTAGRAM_OAUTH_REDIRECT_URI=https://simpleautos.app/api/instagram/oauth/callback

# Optional alias for FACEBOOK_* vars
META_APP_ID=
META_APP_SECRET=

# =================================================================
# Feature Flags & Demo Content
# =================================================================
# If no real listings, show demo listings so the site doesn't look empty.
# Values: false (disabled), true (fallback), 'always' (force demo)
NEXT_PUBLIC_SHOW_DEMO_LISTINGS=true

# Enable featured listings read from simple-api (Fastify) on home sliders.
# Optional override: true/false. If omitted, it auto-enables when NEXT_PUBLIC_SIMPLE_API_BASE_URL is set.
# NEXT_PUBLIC_ENABLE_SIMPLE_API_LISTINGS=true
NEXT_PUBLIC_SIMPLE_API_BASE_URL=http://localhost:4000

# Optional strict mode for wizard writes to simple-api:
# - false (default): fallback to legacy save flow if simple-api fails
# - true: fail fast if simple-api write fails (cutover mode)
# NEXT_PUBLIC_ENABLE_SIMPLE_API_WRITES=true
# NEXT_PUBLIC_SIMPLE_API_STRICT_WRITES=true

# Enables "Publish to Instagram" option in the user panel.
NEXT_PUBLIC_ENABLE_INSTAGRAM_PUBLISH=false

# =================================================================
# Security & Spam Protection
# =================================================================
# hCaptcha (if secret is set, endpoints will require a captchaToken)
HCAPTCHA_SECRET_KEY=

# Rate limits for "Venta Asistida" (Assisted Sale) forms to prevent spam.
VENTA_ASISTIDA_MAX_PER_HOUR=3
VENTA_ASISTIDA_MAX_PER_DAY=10

# Secret for securing cron jobs / background tasks.
CRON_SECRET=dev-cron-secret

# Instagram queue worker secret (for POST /api/instagram/publish/worker).
INSTAGRAM_QUEUE_WORKER_SECRET=

# =================================================================
# Logging & Metrics
# =================================================================
LOG_LEVEL=info
LOG_TO_FILE=false
METRICS_ENABLED=true
